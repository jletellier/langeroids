(function e(t,n,r){function o(a,f){if(!n[a]){if(!t[a]){var h=typeof require==i&&require;if(!f&&h)return h(a,!0);if(u)return u(a,!0);throw new Error("Cannot find module '"+a+"'")}var p=n[a]={exports:{}};t[a][0].call(p[s],function(e){var n=t[a][1][e];return o(n?n:e)},p,p[s],e,t,n,r)}return n[a][s]}var i="function",s="exports",u=typeof require==i&&require;for(var a=0;a<r.length;a++)o(r[a]);return o})({1:[function(e,t,n){var r="addComponent",i=e("langeroids/lib/Game.js"),s=e("langeroids/lib/Canvas2dRenderer.js"),o=e("langeroids/lib/NetworkClient.js"),u=e("../lib/MainLogic.js");(function(){var e=new i;e[r](new s({canvas:"canvas",width:450,height:300})),e[r](new u),e[r](new o({IP:"localhost",PORT:5493})),e.start()})()},{"../lib/MainLogic.js":2,"langeroids/lib/Canvas2dRenderer.js":3,"langeroids/lib/Game.js":4,"langeroids/lib/NetworkClient.js":5}],2:[function(e,t,n){var r="extend",i="game",s="player",o="isServer",u="random",a="PLAYER_RADIUS",f=e("underscore"),l={ID:"mainLogic",WIDTH:450,HEIGHT:300,PLAYER_RADIUS:20},c=t.exports=function(e){f[r](this,l,e)};f[r](c.prototype,{init:function(e){this[i]=e,this[s]=[]},networkSerialize:function(){if(this[i][o])return{player:f.clone(this[s])}},networkUnserialize:function(e){this[i][o]||f[r](this,e)},networkConnect:function(e){if(this[i][o]){var t={id:e,pos:{x:f[u](0,this.WIDTH-this[a]*2),y:f[u](0,this.HEIGHT-this[a]*2)},color:"rgba("};for(var n=0;n<3;n++)t.color+=f[u](20,255)+",";t.color+="0.7)",this[s].push(t)}},networkDisconnect:function(e){this[i][o]&&(this[s]=f.without(this[s],f.findWhere(this[s],{id:e})))},update:function(){},draw:function(e,t){var n=t.ctx;t.clear();for(var r=0;r<this[s].length;r++){var i=this[s][r];n.fillStyle=i.color,n.beginPath(),n.arc(i.pos.x+this[a],i.pos.y+this[a],this[a],0,2*Math.PI,!0),n.fill()}}})},{underscore:9}],3:[function(e,t,n){var r="canvas",i="ctx",s="scale",o="realWidth",u="realHeight",a=e("underscore"),f={ID:"renderer",width:300,height:100,scale:1},l=t.exports=function(e){a.extend(this,f,e)};a.extend(l.prototype,{init:function(e){e.isServer||(typeof this[r]=="string"&&(this[r]=document.getElementById(this[r])),this[i]=this[r].getContext("2d"),this.resize())},resize:function(e,t,n){this[s]=n||this[s],this[o]=(e||this.width)*this[s],this[u]=(t||this.height)*this[s],this[r].width=this[o],this[r].height=this[u]},clear:function(e){this[i].restore(),this[i].save(),this[i][s](this[s],this[s]),this[i].fillStyle=e||"rgb(0, 0, 0)",this[i].fillRect(0,0,this[o],this[u])},drawText:function(e,t,n){this[i].fillStyle="rgb(255, 255, 255)",this[i].save(),this[i][s](2,2),this[i].fillText(n,e,t),this[i].restore()},update:function(){},draw:function(){}})},{underscore:9}],4:[function(e,t,n){var r="components",i="requestId",s="length",o="initialized",u=e("underscore"),a=e("./langeroids.js"),f={initialized:!1},l=t.exports=function(e){u.extend(this,f,e),this.isServer=!a.browser,this[r]=[]};u.extend(l.prototype,{start:function(){this.sortComponents(),this.init(),this.startLoop()},startLoop:function(){function t(n){e[i]=requestAnimationFrame(t),e.time=n,e.run()}var e=this;this[i]=requestAnimationFrame(t)},stop:function(){cancelAnimationFrame(this[i])},run:function(){this.update(),this.isServer||this.draw()},init:function(){for(var e=0;e<this[r][s];e++)this[r][e].init(this);this[o]=!0},update:function(){for(var e=0;e<this[r][s];e++)this[r][e].update(this)},draw:function(){for(var e=0;e<this[r][s];e++)this[r][e].draw(this,this.renderer)},addComponent:function(e){this[r].push(e),u.isString(e.ID)&&(this[e.ID]=e),this[o]&&e.init()},sortComponents:function(){this[r]=u.sortBy(this[r],"sortIndex")}})},{"./langeroids.js":6,underscore:9}],5:[function(e,t,n){var r="networkUnserialize",i=e("underscore"),s=e("socket.io-client"),o={IP:"localhost",PORT:5493},u=t.exports=function(e){i.extend(this,o,e)};i.extend(u.prototype,{init:function(e){this.game=e,this.socket=s.connect("http://"+this.IP+":"+this.PORT),this.socket.on("snapshotDiff",this.onSnapshotDiff.bind(this))},onSnapshotDiff:function(e){var t=this.game;i.each(e,function(e,n){var s=t[n];i.isObject(s)&&i.isFunction(s[r])&&s[r](e)})},update:function(){},draw:function(){}})},{"socket.io-client":8,underscore:9}],6:[function(e,t,n){var r="undefined",i="test",s="requestAnimationFrame",o="cancelAnimationFrame",u=typeof self!==r?self:typeof window!==r?window:{},a=u;n=t.exports={inherits:e("inherits"),browser:typeof window!==r&&a===window};if(n.browser){var f=navigator.userAgent.toLowerCase(),l={iphone:/iphone/[i](f),ipod:/ipod/[i](f),ipad:/ipad/[i](f),android:/android/[i](f),blackberry:/blackberry/[i](f),nexus7:/nexus 7/[i](f),windowsPhone:/windows phone/[i](f)};l.ios=l.iphone||l.ipod||l.ipad,l.mobile=l.ios||l.android||l.blackberry||l.windowsPhone,n.device=l}(function(){var e=0;if(n.browser){var t=["webkit","moz"];for(var r=0;r<t.length&&!window[s];++r)window[s]=window[t[r]+"RequestAnimationFrame"],window[o]=window[t[r]+"CancelAnimationFrame"]||window[t[r]+"CancelRequestAnimationFrame"]}a[s]||(a[s]=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),s=a.setTimeout(function(){t(r+i)},i);return e=r+i,s}),a[o]||(a[o]=function(e){clearTimeout(e)})})()},{inherits:7}],7:[function(e,t,n){var r="prototype";typeof Object.create=="function"?t.exports=function(t,n){t.super_=n,t[r]=Object.create(n[r],{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,n){t.super_=n;var i=function(){};i[r]=n[r],t[r]=new i,t[r].constructor=t}},{}],8:[function(require,module,exports){var io="undefined"==typeof module?{}:module.exports;(function(){(function(e,t){var n="protocol",r="sockets",i="location",s="https",o="force new connection",u=e;u.version="0.9.16",u[n]=1,u.transports=[],u.j=[],u[r]={},u.connect=function(e,a){var f=u.util.parseUri(e),l,c;t&&t[i]&&(f[n]=f[n]||t[i][n].slice(0,-1),f.host=f.host||(t.document?t.document.domain:t[i].hostname),f.port=f.port||t[i].port),l=u.util.uniqueUri(f);var h={host:f.host,secure:s==f[n],port:f.port||(s==f[n]?443:80),query:f.query||""};u.util.merge(h,a);if(h[o]||!u[r][l])c=new u.Socket(h);return!h[o]&&c&&(u[r][l]=c),c=c||u[r][l],c.of(f.path.length>1?f.path:"")}})("object"==typeof module?module.exports:this.io={},this),function(e,t){var n="protocol",r="document",i="https",s="chunkQuery",o="merge",u="hasOwnProperty",a="length",f=!1,l="load",c="attachEvent",h="addEventListener",p="undefined",d="hasCORS",v="indexOf",m="prototype",g=e.util={},y=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,b=["source",n,"authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];g.parseUri=function(e){var t=y.exec(e||""),n={},r=14;while(r--)n[b[r]]=t[r]||"";return n},g.uniqueUri=function(e){var s=e[n],o=e.host,u=e.port;return r in t?(o=o||document.domain,u=u||(s==i&&document.location[n]!=="https:"?443:document.location.port)):(o=o||"localhost",!u&&s==i&&(u=443)),(s||"http")+"://"+o+":"+(u||80)},g.query=function(e,t){var n=g[s](e||""),r=[];g[o](n,g[s](t||""));for(var i in n)n[u](i)&&r.push(i+"="+n[i]);return r[a]?"?"+r.join("&"):""},g[s]=function(e){var t={},n=e.split("&"),r=0,i=n[a],s;for(;r<i;++r)s=n[r].split("="),s[0]&&(t[s[0]]=s[1]);return t};var w=f;g[l]=function(e){if(r in t&&document.readyState==="complete"||w)return e();g.on(t,l,e,f)},g.on=function(e,t,n,r){e[c]?e[c]("on"+t,n):e[h]&&e[h](t,n,r)},g.request=function(e){if(e&&p!=typeof XDomainRequest&&!g.ua[d])return new XDomainRequest;if(p!=typeof XMLHttpRequest&&(!e||g.ua[d]))return new XMLHttpRequest;if(!e)try{return new(window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}return null},p!=typeof window&&g[l](function(){w=!0}),g.defer=function(e){if(!g.ua.webkit||p!=typeof importScripts)return e();g[l](function(){setTimeout(e,100)})},g[o]=function(t,n,r,i){var s=i||[],a=typeof r==p?2:r,f;for(f in n)n[u](f)&&g[v](s,f)<0&&(typeof t[f]!="object"||!a?(t[f]=n[f],s.push(n[f])):g[o](t[f],n[f],a-1,s));return t},g.mixin=function(e,t){g[o](e[m],t[m])},g.inherit=function(e,t){function n(){}n[m]=t[m],e[m]=new n},g.isArray=Array.isArray||function(e){return Object[m].toString.call(e)==="[object Array]"},g.intersect=function(e,t){var n=[],r=e[a]>t[a]?e:t,i=e[a]>t[a]?t:e;for(var s=0,o=i[a];s<o;s++)~g[v](r,i[s])&&n.push(i[s]);return n},g[v]=function(e,t,n){for(var r=e[a],n=n<0?n+r<0?0:n+r:n||0;n<r&&e[n]!==t;n++);return r<=n?-1:n},g.toArray=function(e){var t=[];for(var n=0,r=e[a];n<r;n++)t.push(e[n]);return t},g.ua={},g.ua[d]=p!=typeof XMLHttpRequest&&function(){try{var e=new XMLHttpRequest}catch(t){return f}return e.withCredentials!=undefined}(),g.ua.webkit=p!=typeof navigator&&/webkit/i.test(navigator.userAgent),g.ua.iDevice=p!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)}("undefined"!=typeof io?io:module.exports,this),function(e,t){function f(){}var n="prototype",r="$events",i="isArray",s="removeListener",o="listener",u="length",a=!1;e.EventEmitter=f,f[n].on=function(e,n){return this[r]||(this[r]={}),this[r][e]?t.util[i](this[r][e])?this[r][e].push(n):this[r][e]=[this[r][e],n]:this[r][e]=n,this},f[n].addListener=f[n].on,f[n].once=function(e,t){function r(){n[s](e,r),t.apply(this,arguments)}var n=this;return r[o]=t,this.on(e,r),this},f[n][s]=function(e,n){if(this[r]&&this[r][e]){var s=this[r][e];if(t.util[i](s)){var a=-1;for(var f=0,l=s[u];f<l;f++)if(s[f]===n||s[f][o]&&s[f][o]===n){a=f;break}if(a<0)return this;s.splice(a,1),s[u]||delete this[r][e]}else(s===n||s[o]&&s[o]===n)&&delete this[r][e]}return this},f[n].removeAllListeners=function(e){return e===undefined?(this[r]={},this):(this[r]&&this[r][e]&&(this[r][e]=null),this)},f[n].listeners=function(e){return this[r]||(this[r]={}),this[r][e]||(this[r][e]=[]),t.util[i](this[r][e])||(this[r][e]=[this[r][e]]),this[r][e]},f[n].emit=function(e){if(!this[r])return a;var s=this[r][e];if(!s)return a;var o=Array[n].slice.call(arguments,1);if("function"==typeof s)s.apply(this,o);else{if(!t.util[i](s))return a;var f=s.slice();for(var l=0,c=f[u];l<c;l++)f[l].apply(this,o)}return!0}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(exports,nativeJSON){"use strict";function f(e){return e<10?"0"+e:e}function date(e,t){return isFinite(e.valueOf())?e.getUTCFullYear()+"-"+f(e.getUTCMonth()+1)+"-"+f(e.getUTCDate())+"T"+f(e.getUTCHours())+":"+f(e.getUTCMinutes())+":"+f(e.getUTCSeconds())+"Z":null}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n="string",r="null",i="object",s="length",o,u,a,f,l=gap,c,h=t[e];h instanceof Date&&(h=date(e)),typeof rep=="function"&&(h=rep.call(t,e,h));switch(typeof h){case n:return quote(h);case"number":return isFinite(h)?String(h):r;case"boolean":case r:return String(h);case i:if(!h)return r;gap+=indent,c=[];if(Object.prototype.toString.apply(h)==="[object Array]"){f=h[s];for(o=0;o<f;o+=1)c[o]=str(o,h)||r;return a=c[s]===0?"[]":gap?"[\n"+gap+c.join(",\n"+gap)+"\n"+l+"]":"["+c.join(",")+"]",gap=l,a}if(rep&&typeof rep===i){f=rep[s];for(o=0;o<f;o+=1)typeof rep[o]===n&&(u=rep[o],a=str(u,h),a&&c.push(quote(u)+(gap?": ":":")+a))}else for(u in h)Object.prototype.hasOwnProperty.call(h,u)&&(a=str(u,h),a&&c.push(quote(u)+(gap?": ":":")+a));return a=c[s]===0?"{}":gap?"{\n"+gap+c.join(",\n"+gap)+"\n"+l+"}":"{"+c.join(",")+"}",gap=l,a}}if(nativeJSON&&nativeJSON.parse)return exports.JSON={parse:nativeJSON.parse,stringify:nativeJSON.stringify};var JSON=exports.JSON={},cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;JSON.stringify=function(e,t,n){var r="number",i;gap="",indent="";if(typeof n===r)for(i=0;i<n;i+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length===r)return str("",{"":e});throw new Error("JSON.stringify")},JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}("undefined"!=typeof io?io:module.exports,typeof JSON!="undefined"?JSON:undefined),function(e,t){var n="disconnect",r="connect",i="heartbeat",s="message",o="json",u="event",a="ack",f="error",l="advice",c="reason",h="+",p="data",d="args",v="length",m="stringify",g="�",y="decodePacket",b="charAt",w=e.parser={},E=w.packets=[n,r,i,s,o,u,a,f,"noop"],S=w.reasons=["transport not supported","client not handshaken","unauthorized"],x=w[l]=["reconnect"],T=t.JSON,N=t.util.indexOf;w.encodePacket=function(e){var t=N(E,e.type),n=e.id||"",i=e.endpoint||"",g=e[a],y=null;switch(e.type){case f:var b=e[c]?N(S,e[c]):"",w=e[l]?N(x,e[l]):"";if(b!==""||w!=="")y=b+(w!==""?h+w:"");break;case s:e[p]!==""&&(y=e[p]);break;case u:var C={name:e.name};e[d]&&e[d][v]&&(C[d]=e[d]),y=T[m](C);break;case o:y=T[m](e[p]);break;case r:e.qs&&(y=e.qs);break;case a:y=e.ackId+(e[d]&&e[d][v]?h+T[m](e[d]):"")}var k=[t,n+(g==p?h:""),i];return y!==null&&y!==undefined&&k.push(y),k.join(":")},w.encodePayload=function(e){var t="";if(e[v]==1)return e[0];for(var n=0,r=e[v];n<r;n++){var i=e[n];t+=g+i[v]+g+e[n]}return t};var C=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;w[y]=function(e){var t=e.match(C);if(!t)return{};var v=t[2]||"",e=t[5]||"",m={type:E[t[1]],endpoint:t[4]||""};v&&(m.id=v,t[3]?m[a]=p:m[a]=!0);switch(m.type){case f:var t=e.split(h);m[c]=S[t[0]]||"",m[l]=x[t[1]]||"";break;case s:m[p]=e||"";break;case u:try{var g=T.parse(e);m.name=g.name,m[d]=g[d]}catch(y){}m[d]=m[d]||[];break;case o:try{m[p]=T.parse(e)}catch(y){}break;case r:m.qs=e||"";break;case a:var t=e.match(/^([0-9]+)(\+)?(.*)/);if(t){m.ackId=t[1],m[d]=[];if(t[3])try{m[d]=t[3]?T.parse(t[3]):[]}catch(y){}}break;case n:case i:}return m},w.decodePayload=function(e){if(e[b](0)==g){var t=[];for(var n=1,r="";n<e[v];n++)e[b](n)==g?(t.push(w[y](e.substr(n+1).substr(0,r))),n+=Number(r)+1,r=""):r+=e[b](n);return t}return[w[y](e)]}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t){function m(e,t){this[n]=e,this.sessid=t}var n="socket",r="prototype",i="clearCloseTimeout",s="setCloseTimeout",o="onPacket",u="heartbeat",a="onHeartbeat",f="onConnect",l="isOpen",c="closeTimeout",h="onDisconnect",p="clearTimeouts",d="reopenTimeout",v="/";e.Transport=m,t.util.mixin(m,t.EventEmitter),m[r].heartbeats=function(){return!0},m[r].onData=function(e){this[i](),(this[n].connected||this[n].connecting||this[n].reconnecting)&&this[s]();if(e!==""){var r=t.parser.decodePayload(e);if(r&&r.length)for(var u=0,a=r.length;u<a;u++)this[o](r[u])}return this},m[r][o]=function(e){return this[n].setHeartbeatTimeout(),e.type==u?this[a]():(e.type=="connect"&&e.endpoint==""&&this[f](),e.type=="error"&&e.advice=="reconnect"&&(this[l]=!1),this[n][o](e),this)},m[r][s]=function(){if(!this[c]){var e=this;this[c]=setTimeout(function(){e[h]()},this[n][c])}},m[r][h]=function(){return this[l]&&this.close(),this[p](),this[n][h](),this},m[r][f]=function(){return this[n][f](),this},m[r][i]=function(){this[c]&&(clearTimeout(this[c]),this[c]=null)},m[r][p]=function(){this[i](),this[d]&&clearTimeout(this[d])},m[r].packet=function(e){this.send(t.parser.encodePacket(e))},m[r][a]=function(e){this.packet({type:u})},m[r].onOpen=function(){this[l]=!0,this[i](),this[n].onOpen()},m[r].onClose=function(){var e=this;this[l]=!1,this[n].onClose(),this[h]()},m[r].prepareUrl=function(){var e=this[n].options;return this.scheme()+"://"+e.host+":"+e.port+v+e.resource+v+t.protocol+v+this.name+v+this.sessid},m[r].ready=function(e,t){t.call(this)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t,n){function tt(e){this[r]={port:80,secure:i,document:"document"in n?document:i,resource:"socket.io",transports:t[s],"connect timeout":1e4,"try multiple transports":o,reconnect:o,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":i,"auto connect":o,"flash policy port":10843,manualFlush:i},t[u].merge(this[r],e),this[a]=i,this[f]=i,this[l]=i,this[c]=i,this[h]={},this[p]=[],this[d]=i;if(this[r]["sync disconnect on unload"]&&(!this[v]()||t[u].ua.hasCORS)){var y=this;t[u].on(n,"beforeunload",function(){y[m]()},i)}this[r]["auto connect"]&&this[g]()}function nt(){}var r="options",i=!1,s="transports",o=!0,u="util",a="connected",f="open",l="connecting",c="reconnecting",h="namespaces",p="buffer",d="doBuffer",v="isXDomain",m="disconnectSync",g="connect",y="prototype",b="packet",w="publish",E="hasOwnProperty",S="onError",x=null,T="http",N="protocol",C="script",k="length",L="parentNode",A="onreadystatechange",O="responseText",M="getTransport",_="Transport",D="sessionid",P="heartbeatTimeout",H="origTransports",B="setHeartbeatTimeout",j="transport",F="clearTimeouts",I="connect_failed",q="connect timeout",R="connectTimeoutTimer",U="try multiple transports",z="heartbeatTimeoutTimer",W="flushBuffer",X="disconnect",V="onDisconnect",$="booted",J="location",K="reconnect",Q="reconnectionAttempts",G="reconnectionDelay",Y="reconnectionTimer",Z="removeListener",et="redoTransports";e.Socket=tt,t[u].mixin(tt,t.EventEmitter),tt[y].of=function(e){return this[h][e]||(this[h][e]=new t.SocketNamespace(this,e),e!==""&&this[h][e][b]({type:g})),this[h][e]},tt[y][w]=function(){this.emit.apply(this,arguments);var e;for(var t in this[h])this[h][E](t)&&(e=this.of(t),e.$emit.apply(e,arguments))},tt[y].handshake=function(e){function a(t){t instanceof Error?(n[l]=i,n[S](t.message)):e.apply(x,t.split(":"))}var n=this,s=this[r],h=[T+(s.secure?"s":"")+":/",s.host+":"+s.port,s.resource,t[N],t[u].query(this[r].query,"t="+ +(new Date))].join("/");if(this[v]()&&!t[u].ua.hasCORS){var p=document.getElementsByTagName(C)[0],d=document.createElement(C);d.src=h+"&jsonp="+t.j[k],p[L].insertBefore(d,p),t.j.push(function(e){a(e),d[L].removeChild(d)})}else{var m=t[u].request();m[f]("GET",h,o),this[v]()&&(m.withCredentials=o),m[A]=function(){m.readyState==4&&(m[A]=nt,m.status==200?a(m[O]):m.status==403?n[S](m[O]):(n[l]=i,!n[c]&&n[S](m[O])))},m.send(x)}},tt[y][M]=function(e){var n=e||this[s],r;for(var i=0,o;o=n[i];i++)if(t[_][o]&&t[_][o].check(this)&&(!this[v]()||t[_][o].xdomainCheck(this)))return new t[_][o](this,this[D]);return x},tt[y][g]=function(e){if(this[l])return this;var n=this;return n[l]=o,this.handshake(function(c,h,p,d){function v(e){n[j]&&n[j][F](),n[j]=n[M](e);if(!n[j])return n[w](I);n[j].ready(n,function(){n[l]=o,n[w](l,n[j].name),n[j][f](),n[r][q]&&(n[R]=setTimeout(function(){if(!n[a]){n[l]=i;if(n[r][U]){var e=n[s];while(e[k]>0&&e.splice(0,1)[0]!=n[j].name);e[k]?v(e):n[w](I)}}},n[r][q]))})}n[D]=c,n.closeTimeout=p*1e3,n[P]=h*1e3,n[s]||(n[s]=n[H]=d?t[u].intersect(d.split(","),n[r][s]):n[r][s]),n[B](),v(n[s]),n.once(g,function(){clearTimeout(n[R]),e&&typeof e=="function"&&e()})}),this},tt[y][B]=function(){clearTimeout(this[z]);if(this[j]&&!this[j].heartbeats())return;var e=this;this[z]=setTimeout(function(){e[j].onClose()},this[P])},tt[y][b]=function(e){return this[a]&&!this[d]?this[j][b](e):this[p].push(e),this},tt[y].setBuffer=function(e){this[d]=e,!e&&this[a]&&this[p][k]&&(this[r].manualFlush||this[W]())},tt[y][W]=function(){this[j].payload(this[p]),this[p]=[]},tt[y][X]=function(){if(this[a]||this[l])this[f]&&this.of("")[b]({type:X}),this[V]($);return this},tt[y][m]=function(){var e=t[u].request(),n=[T+(this[r].secure?"s":"")+":/",this[r].host+":"+this[r].port,this[r].resource,t[N],"",this[D]].join("/")+"/?disconnect=1";e[f]("GET",n,i),e.send(x),this[V]($)},tt[y][v]=function(){var e=n[J].port||("https:"==n[J][N]?443:80);return this[r].host!==n[J].hostname||this[r].port!=e},tt[y].onConnect=function(){this[a]||(this[a]=o,this[l]=i,this[d]||this.setBuffer(i),this.emit(g))},tt[y].onOpen=function(){this[f]=o},tt[y].onClose=function(){this[f]=i,clearTimeout(this[z])},tt[y].onPacket=function(e){this.of(e.endpoint).onPacket(e)},tt[y][S]=function(e){e&&e.advice&&e.advice===K&&(this[a]||this[l])&&(this[X](),this[r][K]&&this[K]()),this[w]("error",e&&e.reason?e.reason:e)},tt[y][V]=function(e){var t=this[a],n=this[l];this[a]=i,this[l]=i,this[f]=i;if(t||n)this[j].close(),this[j][F](),t&&(this[w](X,e),$!=e&&this[r][K]&&!this[c]&&this[K]())},tt[y][K]=function(){function f(){if(e[a]){for(var t in e[h])e[h][E](t)&&""!==t&&e[h][t][b]({type:g});e[w](K,e[j].name,e[Q])}clearTimeout(e[Y]),e[Z](I,p),e[Z](g,p),e[c]=i,delete e[Q],delete e[G],delete e[Y],delete e[et],e[r][U]=n}function p(){if(!e[c])return;if(e[a])return f();if(e[l]&&e[c])return e[Y]=setTimeout(p,1e3);e[Q]++>=t?e[et]?(e[w]("reconnect_failed"),f()):(e.on(I,p),e[r][U]=o,e[s]=e[H],e[j]=e[M](),e[et]=o,e[g]()):(e[G]<u&&(e[G]*=2),e[g](),e[w](c,e[G],e[Q]),e[Y]=setTimeout(p,e[G]))}this[c]=o,this[Q]=0,this[G]=this[r]["reconnection delay"];var e=this,t=this[r]["max reconnection attempts"],n=this[r][U],u=this[r]["reconnection limit"];this[r][U]=i,this[Y]=setTimeout(p,this[G]),this.on(g,p)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t){function T(e,t){this[n]=e,this[r]=t||"",this[i]={},this[s]=new N(this,s),this[o]=0,this[u]={}}function N(e,t){this[x]=e,this[r]=t}var n="socket",r="name",i="flags",s="json",o="ackPackets",u="acks",a="EventEmitter",f="$emit",l="prototype",c="apply",h="packet",p="message",d="function",v="ack",m=!0,g="event",y="data",b="disconnect",w="connect",E="reason",S="error",x="namespace";e.SocketNamespace=T,t.util.mixin(T,t[a]),T[l][f]=t[a][l].emit,T[l].of=function(){return this[n].of[c](this[n],arguments)},T[l][h]=function(e){return e.endpoint=this[r],this[n][h](e),this[i]={},this},T[l].send=function(e,t){var n={type:this[i][s]?s:p,data:e};return d==typeof t&&(n.id=++this[o],n[v]=m,this[u][n.id]=t),this[h](n)},T[l].emit=function(e){var t=Array[l].slice.call(arguments,1),n=t[t.length-1],r={type:g,name:e};return d==typeof n&&(r.id=++this[o],r[v]=y,this[u][r.id]=n,t=t.slice(0,t.length-1)),r.args=t,this[h](r)},T[l][b]=function(){return this[r]===""?this[n][b]():(this[h]({type:b}),this[f](b)),this},T[l].onPacket=function(e){function o(){i[h]({type:v,args:t.util.toArray(arguments),ackId:e.id})}var i=this;switch(e.type){case w:this[f](w);break;case b:this[r]===""?this[n].onDisconnect(e[E]||"booted"):this[f](b,e[E]);break;case p:case s:var a=[p,e[y]];e[v]==y?a.push(o):e[v]&&this[h]({type:v,ackId:e.id}),this[f][c](this,a);break;case g:var a=[e[r]].concat(e.args);e[v]==y&&a.push(o),this[f][c](this,a);break;case v:this[u][e.ackId]&&(this[u][e.ackId][c](this,e.args),delete this[u][e.ackId]);break;case S:e.advice?this[n].onError(e):e[E]=="unauthorized"?this[f]("connect_failed",e[E]):this[f](S,e[E])}},N[l].send=function(){this[x][i][this[r]]=m,this[x].send[c](this[x],arguments)},N[l].emit=function(){this[x][i][this[r]]=m,this[x].emit[c](this[x],arguments)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t,n){function f(e){t.Transport.apply(this,arguments)}var r="websocket",i="prototype",s="socket",o="MozWebSocket",u="WebSocket",a="onError";e[r]=f,t.util.inherit(f,t.Transport),f[i].name=r,f[i].open=function(){var e=t.util.query(this[s].options.query),i=this,f;return f||(f=n[o]||n[u]),this[r]=new f(this.prepareUrl()+e),this[r].onopen=function(){i.onOpen(),i[s].setBuffer(!1)},this[r].onmessage=function(e){i.onData(e.data)},this[r].onclose=function(){i.onClose(),i[s].setBuffer(!0)},this[r].onerror=function(e){i[a](e)},this},t.util.ua.iDevice?f[i].send=function(e){var t=this;return setTimeout(function(){t[r].send(e)},0),this}:f[i].send=function(e){return this[r].send(e),this},f[i].payload=function(e){for(var t=0,n=e.length;t<n;t++)this.packet(e[t]);return this},f[i].close=function(){return this[r].close(),this},f[i][a]=function(e){this[s][a](e)},f[i].scheme=function(){return this[s].options.secure?"wss":"ws"},f.check=function(){return u in n&&!("__addTask"in WebSocket)||o in n},f.xdomainCheck=function(){return!0},t.transports.push(r)}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t){function f(){t[i][r].apply(this,arguments)}var n="flashsocket",r="websocket",i="Transport",s="prototype",o="undefined",u="__initialize",a=!0;e[n]=f,t.util.inherit(f,t[i][r]),f[s].name=n,f[s].open=function(){var e=this,n=arguments;return WebSocket.__addTask(function(){t[i][r][s].open.apply(e,n)}),this},f[s].send=function(){var e=this,n=arguments;return WebSocket.__addTask(function(){t[i][r][s].send.apply(e,n)}),this},f[s].close=function(){return WebSocket.__tasks.length=0,t[i][r][s].close.call(this),this},f[s].ready=function(e,n){function r(){var t=e.options,r=t["flash policy port"],s=["http"+(t.secure?"s":"")+":/",t.host+":"+t.port,t.resource,"static/flashsocket","WebSocketMain"+(e.isXDomain()?"Insecure":"")+".swf"];f.loaded||(typeof WEB_SOCKET_SWF_LOCATION===o&&(WEB_SOCKET_SWF_LOCATION=s.join("/")),r!==843&&WebSocket.loadFlashPolicyFile("xmlsocket://"+t.host+":"+r),WebSocket[u](),f.loaded=a),n.call(i)}var i=this;if(document.body)return r();t.util.load(r)},f.check=function(){return typeof WebSocket!=o&&u in WebSocket&&!!swfobject?swfobject.getFlashPlayerVersion().major>=10:!1},f.xdomainCheck=function(){return a},typeof window!=o&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=a),t.transports.push(n)}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);if("undefined"!=typeof window)var swfobject=function(){function Et(){if(dt)return;try{var e=rt[r](m)[0][w](jt("span"));e[S][E](e)}catch(n){return}dt=t;var i=ot[x];for(var s=0;s<i;s++)ot[s]()}function St(e){dt?e():ot[ot[x]]=e}function xt(t){if(typeof nt[g]!=K)nt[g]("load",t,e);else if(typeof rt[g]!=K)rt[g]("load",t,e);else if(typeof nt[y]!=K)Ft(nt,T,t);else if(typeof nt[T]==N){var n=nt[T];nt[T]=function(){n(),t()}}else nt[T]=t}function Tt(){st?Nt():Ct()}function Nt(){var e=rt[r](m)[0],t=jt(Q);t[C](k,Z);var n=e[w](t);if(n){var i=0;(function(){if(typeof n[c]!=K){var r=n[c](h);r&&(r=r[p](" ")[1][p](","),bt.pv=[parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10)])}else if(i<10){i++,setTimeout(arguments[b],10);return}e[E](t),n=a,Ct()})()}else Ct()}function Ct(){var n=ut[x];if(n>0)for(var i=0;i<n;i++){var o=ut[i].id,u=ut[i].callbackFn,a={success:e,id:o};if(bt.pv[0]>0){var f=Bt(o);if(f)if(It(ut[i].swfVersion)&&!(bt.wk&&bt.wk<312))Rt(o,t),u&&(a.success=t,a.ref=kt(o),u(a));else if(ut[i][L]&&Lt()){var l={};l.data=ut[i][L],l[A]=f[O](A)||"0",l[M]=f[O](M)||"0",f[O](_)&&(l[D]=f[O](_)),f[O](P)&&(l[P]=f[O](P));var c={},h=f[r]("param"),p=h[x];for(var d=0;d<p;d++)h[d][O](H)[s]()!=B&&(c[h[d][O](H)]=h[d][O]("value"));At(l,c,o,u)}else Ot(f),u&&u(a)}else{Rt(o,t);if(u){var v=kt(o);v&&typeof v.SetVariable!=K&&(a.success=t,a.ref=v),u(a)}}}}function kt(e){var t=a,n=Bt(e);if(n&&n[j]==F)if(typeof n.SetVariable!=K)t=n;else{var i=n[r](Q)[0];i&&(t=i)}return t}function Lt(){return!vt&&It("6.0.65")&&(bt.win||bt.mac)&&!(bt.wk&&bt.wk<312)}function At(n,r,i,s){vt=t,ht=s||a,pt={success:e,id:i};var u=Bt(i);if(u){u[j]==F?(lt=Mt(u),ct=a):(lt=u,ct=i),n.id=et;if(typeof n[A]==K||!/%$/.test(n[A])&&parseInt(n[A],10)<310)n[A]="310";if(typeof n[M]==K||!/%$/.test(n[M])&&parseInt(n[M],10)<137)n[M]="137";rt.title=rt.title.slice(0,47)+" - Flash Player Installation";var f=bt.ie&&bt.win?[l].concat("").join("X"):"PlugIn",c="MMredirectURL="+nt[I].toString()[o](/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+rt.title;typeof r[q]!=K?r[q]+="&"+c:r[q]=c;if(bt.ie&&bt.win&&u[d]!=4){var h=jt("div");i+="SWFObjectNew",h[C]("id",i),u[S].insertBefore(h,u),u[U][R]=z,function(){u[d]==4?u[S][E](u):setTimeout(arguments[b],10)}()}_t(n,r,i)}}function Ot(e){if(bt.ie&&bt.win&&e[d]!=4){var t=jt("div");e[S].insertBefore(t,e),t[S][W](Mt(e),t),e[U][R]=z,function(){e[d]==4?e[S][E](e):setTimeout(arguments[b],10)}()}else e[S][W](Mt(e),e)}function Mt(e){var n=jt("div");if(bt.win&&bt.ie)n.innerHTML=e.innerHTML;else{var i=e[r](Q)[0];if(i){var s=i.childNodes;if(s){var o=s[x];for(var u=0;u<o;u++)(s[u].nodeType!=1||s[u][j]!="PARAM")&&s[u].nodeType!=8&&n[w](s[u].cloneNode(t))}}}return n}function _t(e,t,n){var r,i=Bt(n);if(bt.wk&&bt.wk<312)return r;if(i){typeof e.id==K&&(e.id=n);if(bt.ie&&bt.win){var o="";for(var u in e)e[u]!=Object[X][u]&&(u[s]()=="data"?t[B]=e[u]:u[s]()==D?o+=' class="'+e[u]+'"':u[s]()!=V&&(o+=" "+u+'="'+e[u]+'"'));var a="";for(var f in t)t[f]!=Object[X][f]&&(a+='<param name="'+f+'" value="'+t[f]+'" />');i.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+a+"</object>",at[at[x]]=e.id,r=Bt(e.id)}else{var l=jt(Q);l[C](k,Z);for(var c in e)e[c]!=Object[X][c]&&(c[s]()==D?l[C](_,e[c]):c[s]()!=V&&l[C](c,e[c]));for(var h in t)t[h]!=Object[X][h]&&h[s]()!=B&&Dt(l,h,t[h]);i[S][W](l,i),r=l}}return r}function Dt(e,t,n){var r=jt("param");r[C](H,t),r[C]("value",n),e[w](r)}function Pt(e){var t=Bt(e);t&&t[j]==F&&(bt.ie&&bt.win?(t[U][R]=z,function(){t[d]==4?Ht(e):setTimeout(arguments[b],10)}()):t[S][E](t))}function Ht(e){var t=Bt(e);if(t){for(var n in t)typeof t[n]==N&&(t[n]=a);t[S][E](t)}}function Bt(e){var t=a;try{t=rt[n](e)}catch(r){}return t}function jt(e){return rt[i](e)}function Ft(e,t,n){e[y](t,n),ft[ft[x]]=[e,t,n]}function It(n){var r=bt.pv,i=n[p](".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,r[0]>i[0]||r[0]==i[0]&&r[1]>i[1]||r[0]==i[0]&&r[1]==i[1]&&r[2]>=i[2]?t:e}function qt(e,t,n,i){if(bt.ie&&bt.mac)return;var s=rt[r]("head")[0];if(!s)return;var o=n&&typeof n=="string"?n:"screen";i&&(mt=a,gt=a);if(!mt||gt!=o){var u=jt(U);u[C](k,"text/css"),u[C]("media",o),mt=s[w](u),bt.ie&&bt.win&&typeof rt[$]!=K&&rt[$][x]>0&&(mt=rt[$][rt[$][x]-1]),gt=o}bt.ie&&bt.win?mt&&typeof mt.addRule==Q&&mt.addRule(e,t):mt&&typeof rt[J]!=K&&mt[w](rt[J](e+" {"+t+"}"))}function Rt(e,t){if(!yt)return;var n=t?"visible":"hidden";dt&&Bt(e)?Bt(e)[U].visibility=n:qt("#"+e,"visibility:"+n)}function Ut(e){var t=/[\\\"<>\.;]/,n=t.exec(e)!=a;return n&&typeof encodeURIComponent!=K?encodeURIComponent(e):e}var e=!1,t=!0,n="getElementById",r="getElementsByTagName",i="createElement",s="toLowerCase",o="replace",u="$1",a=null,f="mimeTypes",l="Active",c="GetVariable",h="$version",p="split",d="readyState",v="complete",m="body",g="addEventListener",y="attachEvent",b="callee",w="appendChild",E="removeChild",S="parentNode",x="length",T="onload",N="function",C="setAttribute",k="type",L="expressInstall",A="width",O="getAttribute",M="height",_="class",D="styleclass",P="align",H="name",B="movie",j="nodeName",F="OBJECT",I="location",q="flashvars",R="display",U="style",z="none",W="replaceChild",X="prototype",V="classid",$="styleSheets",J="createTextNode",K="undefined",Q="object",G="Shockwave Flash",Y="ShockwaveFlash.ShockwaveFlash",Z="application/x-shockwave-flash",et="SWFObjectExprInst",tt="onreadystatechange",nt=window,rt=document,it=navigator,st=e,ot=[Tt],ut=[],at=[],ft=[],lt,ct,ht,pt,dt=e,vt=e,mt,gt,yt=t,bt=function(){var d=typeof rt[n]!=K&&typeof rt[r]!=K&&typeof rt[i]!=K,v=it.userAgent[s](),m=it.platform[s](),g=m?/win/.test(m):/win/.test(v),y=m?/mac/.test(m):/mac/.test(v),b=/webkit/.test(v)?parseFloat(v[o](/^.*webkit\/(\d+(\.\d+)?).*$/,u)):e,w=!1,E=[0,0,0],S=a;if(typeof it.plugins!=K&&typeof it.plugins[G]==Q)S=it.plugins[G].description,S&&(typeof it[f]==K||!it[f][Z]||!!it[f][Z].enabledPlugin)&&(st=t,w=e,S=S[o](/^.*\s+(\S+\s+\S+$)/,u),E[0]=parseInt(S[o](/^(.*)\..*$/,u),10),E[1]=parseInt(S[o](/^.*\.(.*)\s.*$/,u),10),E[2]=/[a-zA-Z]/.test(S)?parseInt(S[o](/^.*[a-zA-Z]+(.*)$/,u),10):0);else if(typeof nt[[l].concat("Object").join("X")]!=K)try{var x=new(window[[l].concat("Object").join("X")])(Y);x&&(S=x[c](h),S&&(w=t,S=S[p](" ")[1][p](","),E=[parseInt(S[0],10),parseInt(S[1],10),parseInt(S[2],10)]))}catch(T){}return{w3:d,pv:E,wk:b,ie:w,win:g,mac:y}}(),wt=function(){if(!bt.w3)return;(typeof rt[d]!=K&&rt[d]==v||typeof rt[d]==K&&(rt[r](m)[0]||rt[m]))&&Et(),dt||(typeof rt[g]!=K&&rt[g]("DOMContentLoaded",Et,e),bt.ie&&bt.win&&(rt[y](tt,function(){rt
[d]==v&&(rt.detachEvent(tt,arguments[b]),Et())}),nt==top&&function(){if(dt)return;try{rt.documentElement.doScroll("left")}catch(e){setTimeout(arguments[b],0);return}Et()}()),bt.wk&&function(){if(dt)return;if(!/loaded|complete/.test(rt[d])){setTimeout(arguments[b],0);return}Et()}(),xt(Et))}(),zt=function(){bt.ie&&bt.win&&window[y]("onunload",function(){var e=ft[x];for(var t=0;t<e;t++)ft[t][0].detachEvent(ft[t][1],ft[t][2]);var n=at[x];for(var r=0;r<n;r++)Pt(at[r]);for(var i in bt)bt[i]=a;bt=a;for(var s in swfobject)swfobject[s]=a;swfobject=a})}();return{registerObject:function(t,n,r,i){if(bt.w3&&t&&n){var s={};s.id=t,s.swfVersion=n,s[L]=r,s.callbackFn=i,ut[ut[x]]=s,Rt(t,e)}else i&&i({success:e,id:t})},getObjectById:function(e){if(bt.w3)return kt(e)},embedSWF:function(n,r,i,s,o,u,a,f,l,c){var h={success:e,id:r};bt.w3&&!(bt.wk&&bt.wk<312)&&n&&r&&i&&s&&o?(Rt(r,e),St(function(){i+="",s+="";var e={};if(l&&typeof l===Q)for(var p in l)e[p]=l[p];e.data=n,e[A]=i,e[M]=s;var d={};if(f&&typeof f===Q)for(var v in f)d[v]=f[v];if(a&&typeof a===Q)for(var m in a)typeof d[q]!=K?d[q]+="&"+m+"="+a[m]:d[q]=m+"="+a[m];if(It(o)){var g=_t(e,d,r);e.id==r&&Rt(r,t),h.success=t,h.ref=g}else{if(u&&Lt()){e.data=u,At(e,d,r,c);return}Rt(r,t)}c&&c(h)})):c&&c(h)},switchOffAutoHideShow:function(){yt=e},ua:bt,getFlashPlayerVersion:function(){return{major:bt.pv[0],minor:bt.pv[1],release:bt.pv[2]}},hasFlashPlayerVersion:It,createSWF:function(e,t,n){return bt.w3?_t(e,t,n):undefined},showExpressInstall:function(e,t,n,r){bt.w3&&Lt()&&At(e,t,n,r)},removeSWF:function(e){bt.w3&&Pt(e)},createCSS:function(e,t,n,r){bt.w3&&qt(e,t,n,r)},addDomLoadEvent:St,addLoadEvent:xt,getQueryParamValue:function(e){var t=rt[I].search||rt[I].hash;if(t){/\?/.test(t)&&(t=t[p]("?")[1]);if(e==a)return Ut(t);var n=t[p]("&");for(var r=0;r<n[x];r++)if(n[r].substring(0,n[r].indexOf("="))==e)return Ut(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(vt){var n=Bt(et);n&&lt&&(n[S][W](lt,n),ct&&(Rt(ct,t),bt.ie&&bt.win&&(lt[U][R]="block")),ht&&ht(pt)),vt=e}}}}();(function(){var e="error",t="10.0.0",n="protocol",r="__id",i="__instances",s="readyState",o="CONNECTING",u="bufferedAmount",a="__events",f="__addTask",l="__flash",c=null,h="prototype",p=!0,d=!1,v="close",m="CLOSING",g="addEventListener",y="length",b="dispatchEvent",w="type",E="__handleEvent",S="__createSimpleEvent",x="message",T="__createMessageEvent",N="createEvent",C="MessageEvent",k="__tasks",L="__initialize",A="__swfLocation",O="WEB_SOCKET_SWF_LOCATION",M="createElement",_="style",D="__isFlashLite",P="-100px",H="webSocketFlash",B="appendChild",j="navigator",F="enabledPlugin";if("undefined"==typeof window||window.WebSocket)return;var I=window.console;if(!I||!I.log||!I[e])I={log:function(){},error:function(){}};if(!swfobject.hasFlashPlayerVersion(t)){I[e]("Flash Player >= 10.0.0 is required.");return}location[n]=="file:"&&I[e]("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(e,t,n,h,p){var d=this;d[r]=WebSocket.__nextId++,WebSocket[i][d[r]]=d,d[s]=WebSocket[o],d[u]=0,d[a]={},t?typeof t=="string"&&(t=[t]):t=[],setTimeout(function(){WebSocket[f](function(){WebSocket[l].create(d[r],e,t,n||c,h||0,p||c)})},0)},WebSocket[h].send=function(e){if(this[s]==WebSocket[o])throw"INVALID_STATE_ERR: Web Socket connection has not been established";var t=WebSocket[l].send(this[r],encodeURIComponent(e));return t<0?p:(this[u]+=t,d)},WebSocket[h][v]=function(){if(this[s]==WebSocket.CLOSED||this[s]==WebSocket[m])return;this[s]=WebSocket[m],WebSocket[l][v](this[r])},WebSocket[h][g]=function(e,t,n){e in this[a]||(this[a][e]=[]),this[a][e].push(t)},WebSocket[h].removeEventListener=function(e,t,n){if(!(e in this[a]))return;var r=this[a][e];for(var i=r[y]-1;i>=0;--i)if(r[i]===t){r.splice(i,1);break}},WebSocket[h][b]=function(e){var t=this[a][e[w]]||[];for(var n=0;n<t[y];++n)t[n](e);var r=this["on"+e[w]];r&&r(e)},WebSocket[h][E]=function(t){s in t&&(this[s]=t[s]),n in t&&(this[n]=t[n]);var r;if(t[w]=="open"||t[w]==e)r=this[S](t[w]);else if(t[w]==v)r=this[S](v);else{if(t[w]!=x)throw"unknown event type: "+t[w];var i=decodeURIComponent(t[x]);r=this[T](x,i)}this[b](r)},WebSocket[h][S]=function(e){if(document[N]&&window.Event){var t=document[N]("Event");return t.initEvent(e,d,d),t}return{type:e,bubbles:d,cancelable:d}},WebSocket[h][T]=function(e,t){if(document[N]&&window[C]&&!window.opera){var n=document[N](C);return n.initMessageEvent(x,d,d,t,c,c,window,c),n}return{type:e,data:t,bubbles:d,cancelable:d}},WebSocket[o]=0,WebSocket.OPEN=1,WebSocket[m]=2,WebSocket.CLOSED=3,WebSocket[l]=c,WebSocket[i]={},WebSocket[k]=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function(e){WebSocket[f](function(){WebSocket[l].loadManualPolicyFile(e)})},WebSocket[L]=function(){if(WebSocket[l])return;WebSocket[A]&&(window[O]=WebSocket[A]);if(!window[O]){I[e]("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf");return}var n=document[M]("div");n.id="webSocketContainer",n[_].position="absolute",WebSocket[D]()?(n[_].left="0px",n[_].top="0px"):(n[_].left=P,n[_].top=P);var r=document[M]("div");r.id=H,n[B](r),document.body[B](n),swfobject.embedSWF(WEB_SOCKET_SWF_LOCATION,H,"1","1",t,c,c,{hasPriority:p,swliveconnect:p,allowScriptAccess:"always"},c,function(t){t.success||I[e]("[WebSocket] swfobject.embedSWF failed")})},WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket[l]=document.getElementById(H),WebSocket[l].setCallerUrl(location.href),WebSocket[l].setDebug(!!window.WEB_SOCKET_DEBUG);for(var e=0;e<WebSocket[k][y];++e)WebSocket[k][e]();WebSocket[k]=[]},0)},WebSocket.__onFlashEvent=function(){return setTimeout(function(){try{var t=WebSocket[l].receiveEvents();for(var n=0;n<t[y];++n)WebSocket[i][t[n].webSocketId][E](t[n])}catch(r){I[e](r)}},0),p},WebSocket.__log=function(e){I.log(decodeURIComponent(e))},WebSocket.__error=function(t){I[e](decodeURIComponent(t))},WebSocket[f]=function(e){WebSocket[l]?e():WebSocket[k].push(e)},WebSocket[D]=function(){if(!window[j]||!window[j].mimeTypes)return d;var e=window[j].mimeTypes["application/x-shockwave-flash"];return!e||!e[F]||!e[F].filename?d:e[F].filename.match(/flashlite/i)?p:d},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||(window[g]?window[g]("load",function(){WebSocket[L]()},d):window.attachEvent("onload",function(){WebSocket[L]()}))})(),function(e,t,n){function v(e){if(!e)return;t.Transport.apply(this,arguments),this.sendBuffer=[]}function m(){}var r="prototype",i="setBuffer",s="socket",o=!1,u=!0,a="onreadystatechange",f="sendXHR",l="request",c="POST",h="XDomainRequest",p="options",d="setRequestHeader";e.XHR=v,t.util.inherit(v,t.Transport),v[r].open=function(){return this[s][i](o),this.onOpen(),this.get(),this.setCloseTimeout(),this},v[r].payload=function(e){var n=[];for(var r=0,i=e.length;r<i;r++)n.push(t.parser.encodePacket(e[r]));this.send(t.parser.encodePayload(n))},v[r].send=function(e){return this.post(e),this},v[r].post=function(e){function r(){this.readyState==4&&(this[a]=m,t.posting=o,this.status==200?t[s][i](o):t.onClose())}function p(){this.onload=m,t[s][i](o)}var t=this;this[s][i](u),this[f]=this[l](c),n[h]&&this[f]instanceof XDomainRequest?this[f].onload=this[f].onerror=p:this[f][a]=r,this[f].send(e)},v[r].close=function(){return this.onClose(),this},v[r][l]=function(e){var n=t.util[l](this[s].isXDomain()),r=t.util.query(this[s][p].query,"t="+ +(new Date));n.open(e||"GET",this.prepareUrl()+r,u);if(e==c)try{n[d]?n[d]("Content-type","text/plain;charset=UTF-8"):n.contentType="text/plain"}catch(i){}return n},v[r].scheme=function(){return this[s][p].secure?"https":"http"},v.check=function(e,r){try{var i=t.util[l](r),s=n[h]&&i instanceof XDomainRequest,a=e&&e[p]&&e[p].secure?"https:":"http:",f=n.location&&a!=n.location.protocol;if(i&&(!s||!f))return u}catch(c){}return o},v.xdomainCheck=function(e){return v.check(e,u)}}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t){function v(e){t[r].XHR.apply(this,arguments)}var n="htmlfile",r="Transport",i="prototype",s="doc",o="concat",u="Active",a="Object",f="createElement",l="appendChild",c="iframe",h="destroy",p="removeChild",d="parentNode";e[n]=v,t.util.inherit(v,t[r].XHR),v[i].name=n,v[i].get=function(){this[s]=new(window[[u][o](a).join("X")])(n),this[s].open(),this[s].write("<html></html>"),this[s].close(),this[s].parentWindow.s=this;var e=this[s][f]("div");e.className="socketio",this[s].body[l](e),this[c]=this[s][f](c),e[l](this[c]);var r=this,i=t.util.query(this.socket.options.query,"t="+ +(new Date));this[c].src=this.prepareUrl()+i,t.util.on(window,"unload",function(){r[h]()})},v[i]._=function(e,t){e=e.replace(/\\\//g,"/"),this.onData(e);try{var n=t.getElementsByTagName("script")[0];n[d][p](n)}catch(r){}},v[i][h]=function(){if(this[c]){try{this[c].src="about:blank"}catch(e){}this[s]=null,this[c][d][p](this[c]),this[c]=null,CollectGarbage()}},v[i].close=function(){return this[h](),t[r].XHR[i].close.call(this)},v.check=function(e){if(typeof window!="undefined"&&[u][o](a).join("X")in window)try{var i=new(window[[u][o](a).join("X")])(n);return i&&t[r].XHR.check(e)}catch(s){}return!1},v.xdomainCheck=function(){return!1},t.transports.push(n)}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t,n){function p(){t[i].XHR.apply(this,arguments)}function d(){}var r="xhr-polling",i="Transport",s="prototype",o="onreadystatechange",u="responseText",a="onClose",f="onload",l="onerror",c="retryCounter",h="xhr";e[r]=p,t.util.inherit(p,t[i].XHR),t.util.merge(p,t[i].XHR),p[s].name=r,p[s].heartbeats=function(){return!1},p[s].open=function(){var e=this;return t[i].XHR[s].open.call(e),!1},p[s].get=function(){function t(){this.readyState==4&&(this[o]=d,this.status==200?(e.onData(this[u]),e.get()):e[a]())}function r(){this[f]=d,this[l]=d,e[c]=1,e.onData(this[u]),e.get()}function i(){e[c]++,!e[c]||e[c]>3?e[a]():e.get()}if(!this.isOpen)return;var e=this;this[h]=this.request(),n.XDomainRequest&&this[h]instanceof XDomainRequest?(this[h][f]=r,this[h][l]=i):this[h][o]=t,this[h].send(null)},p[s][a]=function(){t[i].XHR[s][a].call(this);if(this[h]){this[h][o]=this[h][f]=this[h][l]=d;try{this[h].abort()}catch(e){}this[h]=null}},p[s].ready=function(e,n){var r=this;t.util.defer(function(){n.call(r)})},t.transports.push(r)}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t,n){function S(e){t.Transport[o].apply(this,arguments),this[u]=t.j.length;var n=this;t.j.push(function(e){n._(e)})}var r="document",i="style",s="jsonp-polling",o="xhr-polling",u="index",a="prototype",f="query",l="socket",c="form",h="createElement",p="iframeId",d="appendChild",v="prepareUrl",m="iframe",g="removeChild",y=!0,b="script",w="parentNode",E=n[r]&&"MozAppearance"in n[r].documentElement[i];e[s]=S,t.util.inherit(S,t.Transport[o]),S[a].name=s,S[a].post=function(e){function w(){E(),n[l].setBuffer(!1)}function E(){n[m]&&n[c][g](n[m]);try{b=document[h]('<iframe name="'+n[p]+'">')}catch(e){b=document[h](m),b.name=n[p]}b.id=n[p],n[c][d](b),n[m]=b}var n=this,r=t.util[f](this[l].options[f],"t="+ +(new Date)+"&i="+this[u]);if(!this[c]){var s=document[h](c),o=document[h]("textarea"),a=this[p]="socketio_iframe_"+this[u],b;s.className="socketio",s[i].position="absolute",s[i].top="0px",s[i].left="0px",s[i].display="none",s.target=a,s.method="POST",s.setAttribute("accept-charset","utf-8"),o.name="d",s[d](o),document.body[d](s),this[c]=s,this.area=o}this[c].action=this[v]()+r,E(),this.area.value=t.JSON.stringify(e);try{this[c].submit()}catch(S){}this[m].attachEvent?b.onreadystatechange=function(){n[m].readyState=="complete"&&w()}:this[m].onload=w,this[l].setBuffer(y)},S[a].get=function(){var e=this,n=document[h](b),r=t.util[f](this[l].options[f],"t="+ +(new Date)+"&i="+this[u]);this[b]&&(this[b][w][g](this[b]),this[b]=null),n.async=y,n.src=this[v]()+r,n.onerror=function(){e.onClose()};var i=document.getElementsByTagName(b)[0];i[w].insertBefore(n,i),this[b]=n,E&&setTimeout(function(){var e=document[h](m);document.body[d](e),document.body[g](e)},100)},S[a]._=function(e){return this.onData(e),this.isOpen&&this.get(),this},S[a].ready=function(e,n){var r=this;if(!E)return n.call(this);t.util.load(function(){n.call(r)})},S.check=function(){return r in n},S.xdomainCheck=function(){return y},t.transports.push(s)}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),typeof define=="function"&&define.amd&&define([],function(){return io})})()},{}],9:[function(e,t,n){var r="length",i=null,s="call",o="apply",u="isFunction",a="prototype",f=!1,l="identity",c="isArray",h=!0,p="lastIndexOf",d="_wrapped",v="reduceRight",m="filter",g="indexOf",y="concat",b="push",w="source",E="[object Boolean]",S="keys",x="isArguments",T="[object Array]",N="contains",C="reduce",k="forEach",L="isEmpty",A="escape",O="unescape",M="every",_="slice",D="object",P="templateSettings",H="undefined",B="function",j="random",F="'+\n((__t=(",I="replace",q="bind",R="constructor",U="has",z="join",W="pluck",X="value",V="sortedIndex",$="map",J="variable",K="extend";((function(){var e=this,et=e._,tt={},nt=Array[a],rt=Object[a],it=Function[a],st=nt[b],ot=nt[_],ut=nt[y],at=rt.toString,ft=rt.hasOwnProperty,lt=nt[k],ct=nt[$],ht=nt[C],pt=nt[v],dt=nt[m],vt=nt[M],mt=nt.some,gt=nt[g],yt=nt[p],bt=Array[c],wt=Object[S],Et=it[q],St=function(e){if(e instanceof St)return e;if(!(this instanceof St))return new St(e);this[d]=e};typeof n!==H?(typeof t!==H&&t.exports&&(n=t.exports=St),n._=St):e._=St,St.VERSION="1.5.2";var xt=St.each=St[k]=function(e,t,n){if(e==i)return;if(lt&&e[k]===lt)e[k](t,n);else if(e[r]===+e[r]){for(var o=0,u=e[r];o<u;o++)if(t[s](n,e[o],o,e)===tt)return}else{var a=St[S](e);for(var o=0,u=a[r];o<u;o++)if(t[s](n,e[a[o]],a[o],e)===tt)return}};St[$]=St.collect=function(e,t,n){var r=[];return e==i?r:ct&&e[$]===ct?e[$](t,n):(xt(e,function(e,i,o){r[b](t[s](n,e,i,o))}),r)};var Tt="Reduce of empty array with no initial value";St[C]=St.foldl=St.inject=function(e,t,n,o){var u=arguments[r]>2;e==i&&(e=[]);if(ht&&e[C]===ht)return o&&(t=St[q](t,o)),u?e[C](t,n):e[C](t);xt(e,function(e,r,i){u?n=t[s](o,n,e,r,i):(n=e,u=h)});if(!u)throw new TypeError(Tt);return n},St[v]=St.foldr=function(e,t,n,o){var u=arguments[r]>2;e==i&&(e=[]);if(pt&&e[v]===pt)return o&&(t=St[q](t,o)),u?e[v](t,n):e[v](t);var a=e[r];if(a!==+a){var f=St[S](e);a=f[r]}xt(e,function(r,i,l){i=f?f[--a]:--a,u?n=t[s](o,n,e[i],i,l):(n=e[i],u=h)});if(!u)throw new TypeError(Tt);return n},St.find=St.detect=function(e,t,n){var r;return Nt(e,function(e,i,o){if(t[s](n,e,i,o))return r=e,h}),r},St[m]=St.select=function(e,t,n){var r=[];return e==i?r:dt&&e[m]===dt?e[m](t,n):(xt(e,function(e,i,o){t[s](n,e,i,o)&&r[b](e)}),r)},St.reject=function(e,t,n){return St[m](e,function(e,r,i){return!t[s](n,e,r,i)},n)},St[M]=St.all=function(e,t,n){t||(t=St[l]);var r=h;return e==i?r:vt&&e[M]===vt?e[M](t,n):(xt(e,function(e,i,o){if(!(r=r&&t[s](n,e,i,o)))return tt}),!!r)};var Nt=St.some=St.any=function(e,t,n){t||(t=St[l]);var r=f;return e==i?r:mt&&e.some===mt?e.some(t,n):(xt(e,function(e,i,o){if(r||(r=t[s](n,e,i,o)))return tt}),!!r)};St[N]=St.include=function(e,t){return e==i?f:gt&&e[g]===gt?e[g](t)!=-1:Nt(e,function(e){return e===t})},St.invoke=function(e,t){var n=ot[s](arguments,2),r=St[u](t);return St[$](e,function(e){return(r?t:e[t])[o](e,n)})},St[W]=function(e,t){return St[$](e,function(e){return e[t]})},St.where=function(e,t,n){return St[L](t)?n?void 0:[]:St[n?"find":m](e,function(e){for(var n in t)if(t[n]!==e[n])return f;return h})},St.findWhere=function(e,t){return St.where(e,t,h)},St.max=function(e,t,n){if(!t&&St[c](e)&&e[0]===+e[0]&&e[r]<65535)return Math.max[o](Math,e);if(!t&&St[L](e))return-Infinity;var i={computed:-Infinity,value:-Infinity};return xt(e,function(e,r,o){var u=t?t[s](n,e,r,o):e;u>i.computed&&(i={value:e,computed:u})}),i[X]},St.min=function(e,t,n){if(!t&&St[c](e)&&e[0]===+e[0]&&e[r]<65535)return Math.min[o](Math,e);if(!t&&St[L](e))return Infinity;var i={computed:Infinity,value:Infinity};return xt(e,function(e,r,o){var u=t?t[s](n,e,r,o):e;u<i.computed&&(i={value:e,computed:u})}),i[X]},St.shuffle=function(e){var t,n=0,r=[];return xt(e,function(e){t=St[j](n++),r[n-1]=r[t],r[t]=e}),r},St.sample=function(e,t,n){return arguments[r]<2||n?e[St[j](e[r]-1)]:St.shuffle(e)[_](0,Math.max(0,t))};var Ct=function(e){return St[u](e)?e:function(t){return t[e]}};St.sortBy=function(e,t,n){var r=Ct(t);return St[W](St[$](e,function(e,t,i){return{value:e,index:t,criteria:r[s](n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),X)};var kt=function(e){return function(t,n,r){var o={},u=n==i?St[l]:Ct(n);return xt(t,function(n,i){var a=u[s](r,n,i,t);e(o,a,n)}),o}};St.groupBy=kt(function(e,t,n){(St[U](e,t)?e[t]:e[t]=[])[b](n)}),St.indexBy=kt(function(e,t,n){e[t]=n}),St.countBy=kt(function(e,t){St[U](e,t)?e[t]++:e[t]=1}),St[V]=function(e,t,n,o){n=n==i?St[l]:Ct(n);var u=n[s](o,t),a=0,f=e[r];while(a<f){var c=a+f>>>1;n[s](o,e[c])<u?a=c+1:f=c}return a},St.toArray=function(e){return e?St[c](e)?ot[s](e):e[r]===+e[r]?St[$](e,St[l]):St.values(e):[]},St.size=function(e){return e==i?0:e[r]===+e[r]?e[r]:St[S](e)[r]},St.first=St.head=St.take=function(e,t,n){return e==i?void 0:t==i||n?e[0]:ot[s](e,0,t)},St.initial=function(e,t,n){return ot[s](e,0,e[r]-(t==i||n?1:t))},St.last=function(e,t,n){return e==i?void 0:t==i||n?e[e[r]-1]:ot[s](e,Math.max(e[r]-t,0))},St.rest=St.tail=St.drop=function(e,t,n){return ot[s](e,t==i||n?1:t)},St.compact=function(e){return St[m](e,St[l])};var Lt=function(e,t,n){return t&&St[M](e,St[c])?ut[o](n,e):(xt(e,function(e){St[c](e)||St[x](e)?t?st[o](n,e):Lt(e,t,n):n[b](e)}),n)};St.flatten=function(e,t){return Lt(e,t,[])},St.without=function(e){return St.difference(e,ot[s](arguments,1))},St.uniq=St.unique=function(e,t,n,i){St[u](t)&&(i=n,n=t,t=f);var s=n?St[$](e,n,i):e,o=[],a=[];return xt(s,function(n,i){if(t?!i||a[a[r]-1]!==n:!St[N](a,n))a[b](n),o[b](e[i])}),o},St.union=function(){return St.uniq(St.flatten(arguments,h))},St.intersection=function(e){var t=ot[s](arguments,1);return St[m](St.uniq(e),function(e){return St[M](t,function(t){return St[g](t,e)>=0})})},St.difference=function(e){var t=ut[o](nt,ot[s](arguments,1));return St[m](e,function(e){return!St[N](t,e)})},St.zip=function(){var e=St.max(St[W](arguments,r)[y](0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=St[W](arguments,""+n);return t},St[D]=function(e,t){if(e==i)return{};var n={};for(var s=0,o=e[r];s<o;s++)t?n[e[s]]=t[s]:n[e[s][0]]=e[s][1];return n},St[g]=function(e,t,n){if(e==i)return-1;var s=0,o=e[r];if(n){if(typeof n!="number")return s=St[V](e,t),e[s]===t?s:-1;s=n<0?Math.max(0,o+n):n}if(gt&&e[g]===gt)return e[g](t,n);for(;s<o;s++)if(e[s]===t)return s;return-1},St[p]=function(e,t,n){if(e==i)return-1;var s=n!=i;if(yt&&e[p]===yt)return s?e[p](t,n):e[p](t);var o=s?n:e[r];while(o--)if(e[o]===t)return o;return-1},St.range=function(e,t,n){arguments[r]<=1&&(t=e||0,e=0),n=arguments[2]||1;var i=Math.max(Math.ceil((t-e)/n),0),s=0,o=new Array(i);while(s<i)o[s++]=e,e+=n;return o};var At=function(){};St[q]=function(e,t){var n,r;if(Et&&e[q]===Et)return Et[o](e,ot[s](arguments,1));if(!St[u](e))throw new TypeError;return n=ot[s](arguments,2),r=function(){if(this instanceof r){At[a]=e[a];var u=new At;At[a]=i;var f=e[o](u,n[y](ot[s](arguments)));return Object(f)===f?f:u}return e[o](t,n[y](ot[s](arguments)))}},St.partial=function(e){var t=ot[s](arguments,1);return function(){return e[o](this,t[y](ot[s](arguments)))}},St.bindAll=function(e){var t=ot[s](arguments,1);if(t[r]===0)throw new Error("bindAll must be passed function names");return xt(t,function(t){e[t]=St[q](e[t],e)}),e},St.memoize=function(e,t){var n={};return t||(t=St[l]),function(){var r=t[o](this,arguments);return St[U](n,r)?n[r]:n[r]=e[o](this,arguments)}},St.delay=function(e,t){var n=ot[s](arguments,2);return setTimeout(function(){return e[o](i,n)},t)},St.defer=function(e){return St.delay[o](St,[e,1][y](ot[s](arguments,1)))},St.throttle=function(e,t,n){var r,s,u,a=i,l=0;n||(n={});var c=function(){l=n.leading===f?0:new Date,a=i,u=e[o](r,s)};return function(){var h=new Date;!l&&n.leading===f&&(l=h);var p=t-(h-l);return r=this,s=arguments,p<=0?(clearTimeout(a),a=i,l=h,u=e[o](r,s)):!a&&n.trailing!==f&&(a=setTimeout(c,p)),u}},St.debounce=function(e,t,n){var r,s,u,a,f;return function(){u=this,s=arguments,a=new Date;var l=function(){var c=new Date-a;c<t?r=setTimeout(l,t-c):(r=i,n||(f=e[o](u,s)))},c=n&&!r;return r||(r=setTimeout(l,t)),c&&(f=e[o](u,s)),f}},St.once=function(e){var t=f,n;return function(){return t?n:(t=h,n=e[o](this,arguments),e=i,n)}},St.wrap=function(e,t){return function(){var n=[e];return st[o](n,arguments),t[o](this,n)}},St.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e[r]-1;n>=0;n--)t=[e[n][o](this,t)];return t[0]}},St.after=function(e,t){return function(){if(--e<1)return t[o](this,arguments)}},St[S]=wt||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)St[U](e,n)&&t[b](n);return t},St.values=function(e){var t=St[S](e),n=t[r],i=new Array(n);for(var s=0;s<n;s++)i[s]=e[t[s]];return i},St.pairs=function(e){var t=St[S](e),n=t[r],i=new Array(n);for(var s=0;s<n;s++)i[s]=[t[s],e[t[s]]];return i},St.invert=function(e){var t={},n=St[S](e);for(var i=0,s=n[r];i<s;i++)t[e[n[i]]]=n[i];return t},St.functions=St.methods=function(e){var t=[];for(var n in e)St[u](e[n])&&t[b](n);return t.sort()},St[K]=function(e){return xt(ot[s](arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},St.pick=function(e){var t={},n=ut[o](nt,ot[s](arguments,1));return xt(n,function(n){n in e&&(t[n]=e[n])}),t},St.omit=function(e){var t={},n=ut[o](nt,ot[s](arguments,1));for(var r in e)St[N](n,r)||(t[r]=e[r]);return t},St.defaults=function(e){return xt(ot[s](arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},St.clone=function(e){return St.isObject(e)?St[c](e)?e[_]():St[K]({},e):e},St.tap=function(e,t){return t(e),e};var Ot=function(e,t,n,o){if(e===t)return e!==0||1/e==1/t;if(e==i||t==i)return e===t;e instanceof St&&(e=e[d]),t instanceof St&&(t=t[d]);var a=at[s](e);if(a!=at[s](t))return f;switch(a){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case E:return+e==+t;case"[object RegExp]":return e[w]==t[w]&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!=D||typeof t!=D)return f;var l=n[r];while(l--)if(n[l]==e)return o[l]==t;var c=e[R],p=t[R];if(c!==p&&!(St[u](c)&&c instanceof c&&St[u](p)&&p instanceof p))return f;n[b](e),o[b](t);var v=0,m=h;if(a==T){v=e[r],m=v==t[r];if(m)while(v--)if(!(m=Ot(e[v],t[v],n,o)))break}else{for(var g in e)if(St[U](e,g)){v++;if(!(m=St[U](t,g)&&Ot(e[g],t[g],n,o)))break}if(m){for(g in t)if(St[U](t,g)&&!(v--))break;m=!v}}return n.pop(),o.pop(),m};St.isEqual=function(e,t){return Ot(e,t,[],[])},St[L]=function(e){if(e==i)return h;if(St[c](e)||St.isString(e))return e[r]===0;for(var t in e)if(St[U](e,t))return f;return h},St.isElement=function(e){return!!e&&e.nodeType===1},St[c]=bt||function(e){return at[s](e)==T},St.isObject=function(e){return e===Object(e)},xt(["Arguments","Function","String","Number","Date","RegExp"],function(e){St["is"+e]=function(t){return at[s](t)=="[object "+e+"]"}}),St[x](arguments)||(St[x]=function(e){return!!e&&!!St[U](e,"callee")}),typeof /./!==B&&(St[u]=function(e){return typeof e===B}),St.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},St.isNaN=function(e){return St.isNumber(e)&&e!=+e},St.isBoolean=function(e){return e===h||e===f||at[s](e)==E},St.isNull=function(e){return e===i},St.isUndefined=function(e){return e===void 0},St[U]=function(e,t){return ft[s](e,t)},St.noConflict=function(){return e._=et,this},St[l]=function(e){return e},St.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t[s](n,i);return r},St[j]=function(e,t){return t==i&&(t=e,e=0),e+Math.floor(Math[j]()*(t-e+1))};var Mt={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};Mt[O]=St.invert(Mt[A]);var _t={escape:new RegExp("["+St[S](Mt[A])[z]("")+"]","g"),unescape:new RegExp("("+St[S](Mt[O])[z]("|")+")","g")};St.each([A,O],function(e){St[e]=function(t){return t==i?"":(""+t)[I](_t[e],function(t){return Mt[e][t]})}}),St.result=function(e,t){if(e==i)return void 0;var n=e[t];return St[u](n)?n[s](e):n},St.mixin=function(e){xt(St.functions(e),function(t){var n=St[t]=e[t];St[a][t]=function(){var e=[this[d]];return st[o](e,arguments),jt[s](this,n[o](St,e))}})};var Dt=0;St.uniqueId=function(e){var t=++Dt+"";return e?e+t:t},St[P]={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Pt=/(.)^/,Ht={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},Bt=/\\|'|\r|\n|\t|\u2028|\u2029/g;St.template=function(e,t,n){var i;n=St.defaults({},n,St[P]);var o=new RegExp([(n[A]||Pt)[w],(n.interpolate||Pt)[w],(n.evaluate||Pt)[w]][z]("|")+"|$","g"),u=0,a="__p+='";e[I](o,function(t,n,i,s,o){return a+=e[_](u,o)[I](Bt,function(e){return"\\"+Ht[e]}),n&&(a+=F+n+"))==null?'':_.escape(__t))+\n'"),i&&(a+=F+i+"))==null?'':__t)+\n'"),s&&(a+="';\n"+s+"\n__p+='"),u=o+t[r],t}),a+="';\n",n[J]||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(n[J]||"obj","_",a)}catch(f){throw f[w]=a,f}if(t)return i(t,St);var l=function(e){return i[s](this,e,St)};return l[w]="function("+(n[J]||"obj")+"){\n"+a+"}",l},St.chain=function(e){return St(e).chain()};var jt=function(e){return this._chain?St(e).chain():e};St.mixin(St),xt(["pop",b,"reverse","shift","sort","splice","unshift"],function(e){var t=nt[e];St[a][e]=function(){var n=this[d];return t[o](n,arguments),(e=="shift"||e=="splice")&&n[r]===0&&delete n[0],jt[s](this,n)}}),xt([y,z,_],function(e){var t=nt[e];St[a][e]=function(){return jt[s](this,t[o](this[d],arguments))}}),St[K](St[a],{chain:function(){return this._chain=h,this},value:function(){return this[d]}})}))[s](this)},{}]},{},[1]);